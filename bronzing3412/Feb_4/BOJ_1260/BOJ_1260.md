dfs와 bfs를 둘 다 씀
